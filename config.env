# =============================================================================
# LLM Watchdog Configuration for Gilbreth
# =============================================================================

# -----------------------------------------------------------------------------
# Notifications (ntfy.sh)
# -----------------------------------------------------------------------------
NTFY_TOPIC="purduechat-watchdog"           # Change this to your topic
NTFY_SERVER="https://ntfy.sh"

# -----------------------------------------------------------------------------
# LLM Server (vLLM)
# -----------------------------------------------------------------------------
LLM_VENV="/home/dchawra/llm-watchdog/.venv"
LLM_BIN="${LLM_VENV}/bin/vllm"
MODEL_NAME="zai-org/GLM-4.7-Flash"
SERVER_PORT="8000"

# vLLM serve args
: "${VLLM_ARGS:="--tensor-parallel-size 4 \
    --speculative-config.method mtp \
    --speculative-config.num_speculative_tokens 1 \
    --tool-call-parser glm47 \
    --reasoning-parser glm45 \
    --enable-auto-tool-choice \
    --served-model-name glm-4.7-flash"}"

# -----------------------------------------------------------------------------
# Cloudflare Tunnel
# -----------------------------------------------------------------------------
CLOUDFLARED_BIN="/home/dchawra/cloudflared-linux-amd64"
TUNNEL_NAME="gilbreth"
TUNNEL_ID="0051dc2e-f4fb-4a69-8284-6c18d35514fe"
TUNNEL_HOSTNAME="purduechat.dwijen.dev"
CLOUDFLARED_CREDS="/home/dchawra/.cloudflared/${TUNNEL_ID}.json"

# -----------------------------------------------------------------------------
# Detection Settings
# -----------------------------------------------------------------------------
# Fast polling recommended for GPU workloads to minimize CUDA OOM risk
# 0.25s = ~1s worst case detection time
# inotify would be instant but inotify-tools not installed on Gilbreth
POLL_INTERVAL="0.25"
